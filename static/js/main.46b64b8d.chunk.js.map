{"version":3,"sources":["services/userAPI.js","pages/Loading.jsx","pages/Login.jsx","componentes/Header.jsx","services/searchAlbumsAPI.js","componentes/AlbumCard.jsx","componentes/PrintSearch.jsx","pages/Search.jsx","services/musicsAPI.js","services/favoriteSongsAPI.js","componentes/MusicCard.jsx","pages/Album.jsx","pages/Favorites.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","className","src","alt","React","Component","Login","handleChange","target","value","setState","btnDisabled","state","username","length","btnCreateUser","a","isLogged","loading","bind","this","type","placeholder","onChange","onClick","disabled","to","Header","renderHeader","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","AlbumCard","props","albumName","albumImg","id","PrintSearch","searchArray","Search","searchBar","btnSearch","searchResult","artistAlbuns","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","removeSong","filter","s","trackId","MusicCard","favCheck","favSongs","check","music","checked","manageFavorite","musicPlayer","musicName","allTracks","controls","kind","htmlFor","e","Album","getFavorites","loadFav","getAlbumMusics","match","params","albumMusics","getFrom","album","_remove0","i","index","previewUrl","trackName","some","fs","Favorites","Profile","ProfileEdit","NotFound","App","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.46b64b8d.chunk.js","sourcesContent":["const USER_KEY = 'user';\r\nconst TIMEOUT = 1500;\r\nconst SUCCESS_STATUS = 'OK';\r\n\r\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\r\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\r\n\r\n// --------------------------------------------------------------------\r\n// A função simulateRequest simula uma requisição para uma API externa\r\n// Esse tipo de função que \"chama outra função\" é chamada de\r\n// \"currying function\" https://javascript.info/currying-partials\r\n// não se preocupe, estudaremos isso mais futuramente\r\n// --------------------------------------------------------------------\r\n\r\nconst simulateRequest = (response) => (callback) => {\r\n  setTimeout(() => {\r\n    callback(response);\r\n  }, TIMEOUT);\r\n};\r\n\r\nexport const getUser = () => new Promise((resolve) => {\r\n  let user = readUser();\r\n  if (user === null) {\r\n    user = {};\r\n  }\r\n  simulateRequest(user)(resolve);\r\n});\r\n\r\nexport const createUser = (user) => new Promise((resolve) => {\r\n  const emptyUser = {\r\n    name: '',\r\n    email: '',\r\n    image: '',\r\n    description: '',\r\n  };\r\n  saveUser({ ...emptyUser, ...user });\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n\r\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\r\n  saveUser({ ...updatedUser });\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n","import React from 'react';\r\n\r\nclass Loading extends React.Component {\r\n  render() {\r\n    return (\r\n      <img className=\"loading\" src=\"https://olaargentina.com/wp-content/uploads/2019/11/loading-gif-transparent-10.gif\" alt=\"loading...\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { createUser } from '../services/userAPI';\r\nimport Loading from './Loading';\r\nimport './CSS/Login.css';\r\n\r\nclass Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n    this.state = {\r\n      username: '',\r\n      isLogged: false,\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  // pega as mudanças no input\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  // definindo que o username tem que ser maior que 3 caracteres\r\n  btnDisabled = () => {\r\n    const { username } = this.state;\r\n    const minLength = 3;\r\n    if (username.length < minLength) return true;\r\n  }\r\n\r\n  // cria o usuário usando a função \"createUser\" que esta na userAPI\r\n  // ao clicar no botao a função \"createUser\" é executada definindo o name igual ao definido no \"username\".\r\nbtnCreateUser = async () => {\r\n  const { username } = this.state;\r\n  this.setState({ isLogged: false, loading: true },\r\n    async () => {\r\n      await createUser({ name: username });\r\n      this.setState({ isLogged: true, loading: false });\r\n    });\r\n}\r\n\r\nrender() {\r\n  const { username, loading, isLogged } = this.state;\r\n  return (\r\n    <main>\r\n      <div data-testid=\"page-login\">\r\n        <h1 className=\"trybetunes\">\r\n          Trybe\r\n          <span className=\"titleSpan\">Tunes</span>\r\n        </h1>\r\n        <div className=\"container\">\r\n          <form className=\"loginBox\">\r\n            <h2>LOGIN</h2>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              name=\"username\"\r\n              value={ username }\r\n              onChange={ this.handleChange }\r\n              data-testid=\"login-name-input\"\r\n            />\r\n            <button\r\n              className=\"loginBtn\"\r\n              type=\"button\"\r\n              name=\"loginBtn\"\r\n              onClick={ this.btnCreateUser }\r\n              disabled={ this.btnDisabled() }\r\n              data-testid=\"login-submit-button\"\r\n            >\r\n              Entrar\r\n            </button>\r\n            { loading && <Loading /> }\r\n            { isLogged && <Redirect to=\"/search\" /> }\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </main>\r\n\r\n  );\r\n}\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getUser } from '../services/userAPI';\r\n\r\nclass Header extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: '',\r\n      loading: true,\r\n    };\r\n  }\r\n\r\n  // Montando o nome de usuário na tela\r\n  componentDidMount() {\r\n    this.renderHeader();\r\n  }\r\n\r\n  // Requisição para a API utilizando a função nativa da API \"getUser\" retornando o nome do usuário\r\n  // Loading setado para falso quando a página é carregada com o nome de usuário.\r\n    renderHeader = async () => {\r\n      const { name } = await getUser();\r\n      this.setState({ name, loading: false });\r\n    }\r\n\r\n    render() {\r\n      const { name, loading } = this.state;\r\n      return (\r\n        <div data-testid=\"header-component\">\r\n          <h1 className=\"trybetunes\">\r\n            Trybe\r\n            <span className=\"titleSpan\">Tunes</span>\r\n          </h1>\r\n          { loading ? ''\r\n            : (\r\n              <h1 className=\"username\" data-testid=\"header-user-name\">\r\n                Olá,\r\n                { name }\r\n              </h1>\r\n            )}\r\n          <div className=\"menu\">\r\n            <Link to=\"/search\" data-testid=\"link-to-search\">\r\n              <nav> Search </nav>\r\n            </Link>\r\n            <Link to=\"/favorites\" data-testid=\"link-to-favorites\">\r\n              <nav> Favorites </nav>\r\n            </Link>\r\n            <Link to=\"/profile\" data-testid=\"link-to-profile\">\r\n              <nav> Profile </nav>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Header;\r\n","const searchAlbumsAPI = async (artist) => {\r\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\r\n\r\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\r\n\r\n  const APIResponse = await fetch(getAlbumsAPI);\r\n\r\n  const { results } = await APIResponse.json();\r\n\r\n  const response = results.map(\r\n    ({\r\n      artistId,\r\n      artistName,\r\n      collectionId,\r\n      collectionName,\r\n      collectionPrice,\r\n      artworkUrl100,\r\n      releaseDate,\r\n      trackCount,\r\n    }) => ({\r\n      artistId,\r\n      artistName,\r\n      collectionId,\r\n      collectionName,\r\n      collectionPrice,\r\n      artworkUrl100,\r\n      releaseDate,\r\n      trackCount,\r\n    }),\r\n  );\r\n  return response;\r\n};\r\n\r\nexport default searchAlbumsAPI;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass AlbumCard extends React.Component {\r\n  render() {\r\n    const { albumName, artistName, albumImg, id } = this.props;\r\n    return (\r\n      <div className=\"albumCard\">\r\n        <h2>{ albumName }</h2>\r\n        <h3>{ artistName }</h3>\r\n        <img src={ albumImg } alt={ albumName } />\r\n        <Link\r\n          to={ `/album/${id}` }\r\n          data-testid={ `link-to-album-${id}` }\r\n        >\r\n          Mais informações\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AlbumCard;\r\n\r\nAlbumCard.propTypes = {\r\n  albumName: PropTypes.string.isRequired,\r\n  artistName: PropTypes.string.isRequired,\r\n  albumImg: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AlbumCard from './AlbumCard';\r\n\r\nclass PrintSearch extends React.Component {\r\n  render() {\r\n    const { searchArray, artist } = this.props;\r\n    return (\r\n      searchArray.length <= 0 ? <h2>Nenhum álbum foi encontrado</h2> : (\r\n        <section>\r\n          <h2>\r\n            Resultado de álbuns de:&nbsp;\r\n            { artist }\r\n          </h2>\r\n          {searchArray\r\n            .map(({ collectionId, collectionName, artworkUrl100, artistName }) => (\r\n              <AlbumCard\r\n                key={ collectionId }\r\n                id={ collectionId }\r\n                artistName={ artistName }\r\n                albumName={ collectionName }\r\n                albumImg={ artworkUrl100 }\r\n              />\r\n            ))}\r\n        </section>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default PrintSearch;\r\n\r\nPrintSearch.propTypes = {\r\n  searchArray: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  artist: PropTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport Header from '../componentes/Header';\r\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\r\nimport Loading from './Loading';\r\nimport PrintSearch from '../componentes/PrintSearch';\r\n\r\nclass Search extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      searchBar: '',\r\n      loading: false,\r\n      artistName: '',\r\n      artistAlbuns: [],\r\n    };\r\n  }\r\n\r\n  // pega as mudanças no input\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  // desativa o botão até que se tenha mais de 2 caracteres digitados\r\n  btnDisabled = () => {\r\n    const { searchBar } = this.state;\r\n    const minLength = 2;\r\n    if (searchBar.length < minLength) return true;\r\n  }\r\n\r\n  // Dá função ao botão de busca, ele pega os dados da API e depois seta os status de acordo com o esperado\r\n  btnSearch = async () => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    const { searchBar } = this.state;\r\n    const searchResult = await searchAlbumsAPI(searchBar);\r\n    this.setState({\r\n      artistAlbuns: searchResult,\r\n      searchBar: '',\r\n      loading: false,\r\n      artistName: searchBar,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { searchBar, loading, artistAlbuns, artistName } = this.state;\r\n    return (\r\n      <div data-testid=\"page-search\">\r\n        <Header />\r\n        <div className=\"searchContainer\">\r\n          <input\r\n            className=\"musicSearch\"\r\n            name=\"searchBar\"\r\n            value={ searchBar }\r\n            placeholder=\"Nome do Artista\"\r\n            onChange={ this.handleChange }\r\n            data-testid=\"search-artist-input\"\r\n          />\r\n          <button\r\n            className=\"searchButton\"\r\n            type=\"button\"\r\n            disabled={ this.btnDisabled() }\r\n            data-testid=\"search-artist-button\"\r\n            onClick={ this.btnSearch }\r\n          >\r\n            Pesquisar\r\n          </button>\r\n        </div>\r\n        <div>\r\n          {loading ? <Loading />\r\n            : <PrintSearch searchArray={ artistAlbuns } artist={ artistName } />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Search;\r\n","const getMusics = async (id) => {\r\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\r\n  const requestJson = await request.json();\r\n  return requestJson.results;\r\n};\r\n\r\nexport default getMusics;\r\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\r\nconst TIMEOUT = 500;\r\nconst SUCCESS_STATUS = 'OK';\r\n\r\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\r\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\r\n}\r\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\r\n\r\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\r\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\r\n\r\n// --------------------------------------------------------------------\r\n// A função simulateRequest simula uma requisição para uma API externa\r\n// Esse tipo de função que \"chama outra função\" é chamada de\r\n// \"currying function\" https://javascript.info/currying-partials\r\n// não se preocupe, estudaremos isso futuramente.\r\n// --------------------------------------------------------------------\r\n\r\nconst simulateRequest = (response) => (callback) => {\r\n  setTimeout(() => {\r\n    callback(response);\r\n  }, TIMEOUT);\r\n};\r\n\r\nexport const getFavoriteSongs = () => new Promise((resolve) => {\r\n  const favoriteSongs = readFavoriteSongs();\r\n  simulateRequest(favoriteSongs)(resolve);\r\n});\r\n\r\nexport const addSong = (song) => new Promise((resolve) => {\r\n  if (song) {\r\n    const favoriteSongs = readFavoriteSongs();\r\n    saveFavoriteSongs([...favoriteSongs, song]);\r\n  }\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n\r\nexport const removeSong = (song) => new Promise((resolve) => {\r\n  const favoriteSongs = readFavoriteSongs();\r\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\r\n  simulateRequest(SUCCESS_STATUS)(resolve);\r\n});\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { addSong, removeSong } from '../services/favoriteSongsAPI';\r\n\r\nclass MusicCard extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      loading: false,\r\n      check: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { favSongs } = this.props;\r\n    this.favCheck(favSongs);\r\n  }\r\n\r\n  // marca as checkboxes das musicas favoritadas\r\n  favCheck = (favSongs) => {\r\n    this.setState({\r\n      check: favSongs,\r\n    });\r\n  }\r\n\r\n  // pega as mudanças no input, ao pegar a mudança executa a função \"manageFavorite\"\r\n  handleChange = ({ target }, music) => {\r\n    const { checked } = target;\r\n    this.setState({\r\n      check: checked,\r\n      loading: true,\r\n    }, () => this.manageFavorite(music));\r\n  }\r\n\r\n  // função que recebe a função \"AddSong\" contida no arquivo \"FavoriteSongsAPI\"\r\n  manageFavorite = async (music) => {\r\n    const { check } = this.state;\r\n    if (check) {\r\n      await addSong(music);\r\n      this.setState({ loading: false });\r\n    } else {\r\n      await removeSong(music);\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { musicPlayer, musicName, trackId, allTracks } = this.props;\r\n    const { loading, check } = this.state;\r\n    return (\r\n      <div>\r\n        <p>{ musicName }</p>\r\n        <audio data-testid=\"audio-component\" src={ musicPlayer } controls>\r\n          <track kind=\"captions\" />\r\n          O seu navegador não suporta o elemento\r\n          <code>audio</code>\r\n          .\r\n        </audio>\r\n        <label htmlFor=\"favorite\">\r\n          <input\r\n            id={ trackId }\r\n            type=\"checkbox\"\r\n            checked={ check }\r\n            onChange={ (e) => this.handleChange(e, allTracks) }\r\n            data-testid={ `checkbox-music-${trackId}` }\r\n          />\r\n          Favorita\r\n        </label>\r\n        {loading ? <p>Carregando...</p> : '' }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MusicCard;\r\n\r\nMusicCard.propTypes = {\r\n  musicName: PropTypes.string.isRequired,\r\n  trackId: PropTypes.number.isRequired,\r\n  musicPlayer: PropTypes.string.isRequired,\r\n  allTracks: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  favSongs: PropTypes.bool.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Header from '../componentes/Header';\r\nimport Loading from './Loading';\r\nimport getMusics from '../services/musicsAPI';\r\nimport MusicCard from '../componentes/MusicCard';\r\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\r\n\r\nclass Album extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      loading: false,\r\n      album: [],\r\n      artist: '',\r\n      albumName: '',\r\n      albumImg: '',\r\n      favSongs: [],\r\n      loadFav: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAlbumMusics();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.getFavorites();\r\n  }\r\n\r\n  // Recebe a função \"getFavoriteSongs\" que pega os favoritos que estão no \"localStorage\".\r\n  // O \"loadFav\" é uma barreira para impedir que a página carregue as músicas sem fazer a checagem das músicas favoritas\r\n  // quando o \"getFavorites\" termina sua execução ele coloca \"loadFav\" como true.\r\n  // No render foi colocado uma condição, que faz com que \"loadFav\" seja a tal barreira.\r\n  getFavorites = async () => {\r\n    const favSongs = await getFavoriteSongs();\r\n    this.setState({\r\n      favSongs,\r\n      loadFav: true });\r\n  }\r\n\r\n  // Pega nome do artista, imagem do álbum, nome do álbum.\r\ngetAlbumMusics = async () => {\r\n  this.setState({\r\n    loading: true,\r\n  });\r\n  // esse match params eu demorei pra entender.\r\n  // aparentemente vc passa o { match :} que contem (vou chamar de parametros) parametros, um deles é o { params : } que pega a chave/ valor passado pela URL como um objeto.\r\n  // ou seja, quando fazemos o que esta abaixo, ele pega os números depois do \"albuns/\" da URL e define eles no ID, assim ele fica dinâmico.\r\n  // Então pelo que eu entendi a url no app é \"album/:id\" porque esse \":id\" é algum tipo de flag pro params interagir, talvez seja um dynamic segment como diz no link abaixo (vou procurar depois);\r\n  // https://v5.reactrouter.com/web/api/match\r\n  const { match: { params: { id } } } = this.props;\r\n  const albumMusics = await getMusics(id);\r\n  const getFrom = albumMusics[0];\r\n  const artist = getFrom.artistName;\r\n  const albumImg = getFrom.artworkUrl100;\r\n  const albumName = getFrom.collectionName;\r\n  // remover o index 1, ele não é uma música válida\r\n  const album = albumMusics.filter((_remove0, i) => i !== 0);\r\n  this.setState({\r\n    loading: false,\r\n    album,\r\n    artist,\r\n    albumName,\r\n    albumImg,\r\n  });\r\n}\r\n\r\nrender() {\r\n  const { loading, album, artist, albumName, albumImg, favSongs, loadFav } = this.state;\r\n  return (\r\n    <div data-testid=\"page-album\">\r\n      <Header />\r\n      {(loading && <Loading />)}\r\n      { loadFav && (\r\n        <div>\r\n          <h2 data-testid=\"artist-name\">{ artist }</h2>\r\n          <img src={ albumImg } alt={ albumName } />\r\n          <h3 data-testid=\"album-name\">{ albumName }</h3>\r\n          {album\r\n            .map((music, index) => (<MusicCard\r\n              key={ index }\r\n              musicPlayer={ music.previewUrl }\r\n              musicName={ music.trackName }\r\n              trackId={ music.trackId }\r\n              favSongs={ favSongs.some((fs) => fs.trackId === music.trackId) }\r\n              allTracks={ music }\r\n            />))}\r\n        </div>\r\n      )}\r\n    </div>);\r\n}\r\n}\r\nexport default Album;\r\n\r\nAlbum.propTypes = {\r\n  match: PropTypes.objectOf(PropTypes.any).isRequired,\r\n};\r\n","import React from 'react';\r\nimport Header from '../componentes/Header';\r\n\r\nclass Favorites extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-favorites\">\r\n        <Header />\r\n      </div>);\r\n  }\r\n}\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport Header from '../componentes/Header';\r\n\r\nclass Profile extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-profile\">\r\n        <Header />\r\n      </div>);\r\n  }\r\n}\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Header from '../componentes/Header';\r\n\r\nclass ProfileEdit extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-profile-edit\">\r\n        <Header />\r\n      </div>);\r\n  }\r\n}\r\nexport default ProfileEdit;\r\n","import React from 'react';\r\n\r\nclass NotFound extends React.Component {\r\n  render() {\r\n    return (\r\n      <div data-testid=\"page-not-found\">\r\n        NOT FOUND\r\n      </div>);\r\n  }\r\n}\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport Search from './pages/Search';\r\nimport Album from './pages/Album';\r\nimport Favorites from './pages/Favorites';\r\nimport Profile from './pages/Profile';\r\nimport ProfileEdit from './pages/ProfileEdit';\r\nimport NotFound from './pages/NotFound';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <main>\r\n        <Switch>\r\n          <Route exact path=\"/trybetunes\" component={ Login } />\r\n          <Route exact path=\"/album/:id\" render={ (props) => <Album { ...props } /> } />\r\n          <Route exact path=\"/favorites\" component={ Favorites } />\r\n          <Route exact path=\"/profile/edit\" component={ ProfileEdit } />\r\n          <Route exact path=\"/profile\" component={ Profile } />\r\n          <Route exact path=\"/search\" component={ Search } />\r\n          <Route component={ NotFound } />\r\n        </Switch>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}